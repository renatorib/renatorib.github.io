<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, user-scalable=no"/><link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700|PT+Serif:400,400i,700" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:title" content="@renatorib"/><meta property="og:description" content="Renato Ribeiro; Software Engineer."/><meta name="twitter:description" content="Renato Ribeiro; Software Engineer."/><link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAAB7UlEQVRYw+3XXZWzMBCA4XoYBaAgDnAwDlDQKKiDOEDBooAqiAMUEAVZBe93QfkJgS1nOXvOd9FctTnhoZPJDOUGXgv53dAWbji5MBy3Vi4Nf9NrgN6uXS/lVUA+wAf4C8AYVdW8vo/mZ6AJIYQQmUbs7FhsIYQQ5mmGVveBx2rRtLYWkeY7nzf7IaiLQF9XptIX50REtAF4amW0bgJArA72wAP+9fkeAcafO1si4gCieQ9IFYEhA+TOetUPwHgvzQDxAOUJwAA0OVAD2BOARKDLgQV+BwSgzwEB+DoL+CtA3AeqjXcIVAebaAHqE0ALUOVAdzKNZk5CCugmCUdAMQDBZIAZgFC8BXQAvivZAo+4uPtAcM41XxHAm1XevHOu6SLAs5AfgHl4TRI/j06PW5oHemut7fOT87TW2jhX+Js9uAOYBHBTgQ7lCWA5hClQblN4CDiARwaMh0tPAGVcN64FMORB7J+DB1Mtp+egAWhPABJW4a6AMgLcTwDK1a7sl3DXQBnOdmUT2e2JytmG8mDKZXpFQ5rL45bW8WopKTAGsTwgZ6CwAxDqYrNS7aa2xuB6kwL1Uop+anhV+sSejfv4vS3XQLteOd+rT4Q5DBNW+/D5l/YB/hOgvApcfvH014D2+ss3tL+NolAP/wBzeeFjAcyjTAAAAABJRU5ErkJggg=="/><title>Tackling responsive elements in React and why I’ve created React Sizes</title><meta name="date" content="Tue, 02 May 2017 03:00:00 GMT"/><meta property="og:title" content="Tackling responsive elements in React and why I’ve created React Sizes"/><meta property="og:image" content="/_next/static/images/cover-7fa40f3cdfb914aea2b0bbf38b8c2091.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@renatorib_"/><meta name="twitter:creator" content="@renatorib_"/><meta name="twitter:title" content="Tackling responsive elements in React and why I’ve created React Sizes"/><meta name="twitter:image" content="/_next/static/images/cover-7fa40f3cdfb914aea2b0bbf38b8c2091.jpg"/><link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAAB7UlEQVRYw+3XXZWzMBCA4XoYBaAgDnAwDlDQKKiDOEDBooAqiAMUEAVZBe93QfkJgS1nOXvOd9FctTnhoZPJDOUGXgv53dAWbji5MBy3Vi4Nf9NrgN6uXS/lVUA+wAf4C8AYVdW8vo/mZ6AJIYQQmUbs7FhsIYQQ5mmGVveBx2rRtLYWkeY7nzf7IaiLQF9XptIX50REtAF4amW0bgJArA72wAP+9fkeAcafO1si4gCieQ9IFYEhA+TOetUPwHgvzQDxAOUJwAA0OVAD2BOARKDLgQV+BwSgzwEB+DoL+CtA3AeqjXcIVAebaAHqE0ALUOVAdzKNZk5CCugmCUdAMQDBZIAZgFC8BXQAvivZAo+4uPtAcM41XxHAm1XevHOu6SLAs5AfgHl4TRI/j06PW5oHemut7fOT87TW2jhX+Js9uAOYBHBTgQ7lCWA5hClQblN4CDiARwaMh0tPAGVcN64FMORB7J+DB1Mtp+egAWhPABJW4a6AMgLcTwDK1a7sl3DXQBnOdmUT2e2JytmG8mDKZXpFQ5rL45bW8WopKTAGsTwgZ6CwAxDqYrNS7aa2xuB6kwL1Uop+anhV+sSejfv4vS3XQLteOd+rT4Q5DBNW+/D5l/YB/hOgvApcfvH014D2+ss3tL+NolAP/wBzeeFjAcyjTAAAAABJRU5ErkJggg=="/><meta name="next-head-count" content="16"/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-d58aafdf60da4097bffb.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9ec1f7868b3e9d138cdd.js" as="script"/><link rel="preload" href="/_next/static/chunks/05d954cf.9e3ba82d748380f7bd2c.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.88c5c447dfa569b3c1e1.js" as="script"/><link rel="preload" href="/_next/static/chunks/c4b7dd1ea37cbe53e921af5fa95eb74e6ed8adf6.c30464c9eb4052cc112c.js" as="script"/><link rel="preload" href="/_next/static/chunks/11cd88066fea60e4e9b66126e194a6cda56fa586.f24b4e8999210d024a49.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-0bebf4d46d6a957660d0.js" as="script"/><link rel="preload" href="/_next/static/chunks/bfa37fcd0818edd0d3354ea585e5d4d4b3e87fa4.b679ac052656384d9275.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-dcfdb5da7801cd24a62f.js" as="script"/><style data-emotion-css="15o30dr xc9yl4 f2ibaw 16nde6r">.css-15o30dr{box-sizing:border-box;min-width:0;min-height:0;}.css-xc9yl4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;min-width:0;min-height:0;}.css-f2ibaw{box-sizing:border-box;min-width:0;min-height:0;padding-left:10px;}.css-16nde6r{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;min-width:0;min-height:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style></head><body><div id="__next"><style data-emotion-css="1xto2hd">*::selection{color:black;background:lime;}*,*:after,*:before{box-sizing:border-box;}body{color:#5b6987;background:#ffffff;font-family:PT Serif,serif;min-height:100vh;padding:0;margin:0;}</style><style data-emotion-css="o6ziba">.css-o6ziba{background:#ffffff;color:white;}</style><div class="css-o6ziba css-15o30dr"><style data-emotion-css="14jaukp">.css-14jaukp{margin-bottom:40px;}@media screen and (min-width:48em){.css-14jaukp{margin-bottom:60px;}}</style><div class="css-14jaukp css-15o30dr"><style data-emotion-css="6asx82">.css-6asx82{background:url(/_next/static/images/cover-7fa40f3cdfb914aea2b0bbf38b8c2091.jpg) center center;background-size:cover;}</style><div class="css-6asx82"><style data-emotion-css="1oi9bcn">.css-1oi9bcn{background:linear-gradient( to bottom, rgba(0,30,0,0.5) 0%, rgba(0,30,30,0.5) 100% );}</style><div class="css-1oi9bcn css-15o30dr"><style data-emotion-css="i2lgx1">.css-i2lgx1{background:transparent;padding:20px 0;}</style><div class="css-i2lgx1 css-15o30dr"><style data-emotion-css="p8646l">.css-p8646l{margin:0 auto;max-width:850px;}</style><div class="css-p8646l css-15o30dr"><style data-emotion-css="1ilvnuj">.css-1ilvnuj{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;color:white;-webkit-transition:color 200ms ease;transition:color 200ms ease;}.css-1ilvnuj:hover{color:rgba(255,255,255,0.7);}</style><a class="css-1ilvnuj css-15o30dr" href="/blog"><style data-emotion-css="1xok4pd">.css-1xok4pd{width:40px;}</style><img src="/_next/static/images/icon-logo-6dd49d886e2dfa493b21300cb8bd53f5.png" class="css-1xok4pd"/><style data-emotion-css="tv3pmz">.css-tv3pmz{font-size:18px;font-family:PT Sans,sans-serif;}</style><div class="css-tv3pmz css-f2ibaw">rena.to<strong>/blog</strong></div></a></div></div><style data-emotion-css="12bljn2">.css-12bljn2{position:relative;padding:0 15px;max-width:850px;margin:0 auto;}</style><div class="css-12bljn2 css-15o30dr"><style data-emotion-css="1j47g5f">.css-1j47g5f{padding:20px 0 40px 0;}@media screen and (min-width:48em){.css-1j47g5f{padding:40px 0 100px 0;}}</style><div class="css-1j47g5f css-15o30dr"><style data-emotion-css="bd75tw">.css-bd75tw{margin:0;color:white;}</style><style data-emotion-css="9if6y2">.css-9if6y2{font-size:32px;font-weight:100;color:#222;font-family:PT Sans,sans-serif;margin:0;color:white;}@media screen and (min-width:48em){.css-9if6y2{font-size:60px;}}</style><h1 class="css-9if6y2 css-15o30dr">Tackling responsive elements in React and why I’ve created React Sizes</h1></div><style data-emotion-css="m31y3a">.css-m31y3a{padding-bottom:40px;}</style><div class="css-m31y3a css-15o30dr"><style data-emotion-css="b634e7">.css-b634e7{border-radius:99px;color:white;font-family:PT Sans,sans-serif;padding:2px;}</style><div class="css-b634e7 css-xc9yl4"><style data-emotion-css="fql3dn">.css-fql3dn{max-width:100%;border-radius:999px;width:60px;height:60px;border:2px solid transparent;box-shadow:0 0 0 2px lime;margin-right:20px;}</style><img src="https://avatars2.githubusercontent.com/u/3277185?s=200" class="css-fql3dn"/><div class="css-16nde6r"><div><style data-emotion-css="1i4scrm">.css-1i4scrm{font-weight:bold;color:white;}.css-1i4scrm:visited{color:white;}</style><style data-emotion-css="1cyf5ys">.css-1cyf5ys{-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 300ms ease;transition:all 300ms ease;color:#000000;font-weight:bold;color:white;}.css-1cyf5ys:visited{color:#000000;}.css-1cyf5ys:hover{color:lime;}.css-1cyf5ys:visited{color:white;}</style><a href="https://twitter.com/renatorib_" rel="noopener noreferrer" target="_blank" class="css-1cyf5ys">Renato Ribeiro</a></div><div><time dateTime="Tue, 02 May 2017 03:00:00 GMT">May 2, 2017</time></div></div></div></div></div></div></div></div><div class="css-12bljn2 css-15o30dr"><div><style data-emotion-css="1xxg5be">.css-1xxg5be{font-size:21px;line-height:1.6em;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;font-weight:400;color:#5b6987;font-family:PT Serif,serif;}</style><p class="paragraph css-1xxg5be css-15o30dr">In the “perfect world of responsiveness” you can do 90% of things only by adding percentage widths, using flexbox, adding media queries to change grid dimensions, etc. But in the real world, sometimes we need to use two or more completely different structures to adapt to devices.</p><p class="paragraph css-1xxg5be css-15o30dr">As a Frontend Engineer I often have to use different elements based on the user’s viewport. By doing that over and over again I’ve found good and bad ways to make this swapping of elements.</p><p class="paragraph css-1xxg5be css-15o30dr">In fact we can still do this with media queries. You can simply render all elements for all devices and swap those with media queries. Just set <style data-emotion-css="159wm0q">.css-159wm0q{font-size:0.8em;padding:3px 8px;border-radius:2px;background:#DFE4E7;font-family:Fira Code,Consolata,monospace;}</style><code class="css-159wm0q css-15o30dr">display: none;</code> in elements we want to hide on the target resolution. See example below:</p><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-jsx" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em"><span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable token maybe-class-name" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token token token" style="color:#999">&lt;</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token token token" style="color:#999">&lt;</span><span class="token token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">className</span><span class="token token token attr-equals" style="color:#999">=</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#07a">hide-mobile</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">Desktop only</span><span class="token token token" style="color:#999">&lt;/</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token token token" style="color:#999">&lt;</span><span class="token token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">className</span><span class="token token token attr-equals" style="color:#999">=</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#07a">hide-desktop</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">Mobile only</span><span class="token token token" style="color:#999">&lt;/</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">  </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></div></code></pre></pre><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-css" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em;opacity:0.35"><span><span class="token token class" style="color:#690">.hide-mobile</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em;opacity:1"><span><span>  </span><span class="token token rule" style="color:#07a">@media</span><span class="token" style="color:#07a"> </span><span class="token token" style="color:#999">(</span><span class="token token" style="color:#905">max-width</span><span class="token token" style="color:#999">:</span><span class="token" style="color:#07a"> </span><span class="token token" style="color:#905">480</span><span class="token token unit" style="color:#07a">px</span><span class="token token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em;opacity:0.35"><span><span>    </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> none</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em;opacity:0.35"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em;opacity:0.35"><span><span></span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em;opacity:0.35"><span><span></span><span class="token token class" style="color:#690">.hide-desktop</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em;opacity:1"><span><span>  </span><span class="token token rule" style="color:#07a">@media</span><span class="token" style="color:#07a"> </span><span class="token token" style="color:#07a">not</span><span class="token" style="color:#07a"> all </span><span class="token token" style="color:#07a">and</span><span class="token" style="color:#07a"> </span><span class="token token" style="color:#999">(</span><span class="token token" style="color:#905">max-width</span><span class="token token" style="color:#999">:</span><span class="token" style="color:#07a"> </span><span class="token token" style="color:#905">480</span><span class="token token unit" style="color:#07a">px</span><span class="token token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em;opacity:0.35"><span><span>    </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> none</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em;opacity:0.35"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em;opacity:0.35"><span><span></span><span class="token" style="color:#999">}</span></span></div></code></pre></pre><p class="paragraph css-1xxg5be css-15o30dr">It’s a good way and sometimes can work, <strong>but</strong>…</p><style data-emotion-css="szlsa3">.css-szlsa3{font-size:36px;}</style><style data-emotion-css="txxvu5">.css-txxvu5{position:relative;font-weight:bold;color:#222;font-family:PT Sans,sans-serif;font-size:36px;}.css-txxvu5:hover .heading-anchor{color:lime;}</style><h2 class="css-txxvu5 css-15o30dr" id="why-swapping-elements-with-css-might-be-a-bad-idea"><style data-emotion-css="1g84dnl">.css-1g84dnl{position:absolute;left:-26px;-webkit-text-decoration:none;text-decoration:none;color:rgba(255,255,255,0.05);-webkit-transition:color 300ms ease;transition:color 300ms ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><a class="heading-anchor css-1g84dnl" href="#why-swapping-elements-with-css-might-be-a-bad-idea">#</a>Why swapping elements with CSS might be a bad idea.</h2><p class="paragraph css-1xxg5be css-15o30dr">Let’s assume you want to build a desktop and a mobile version of a website section, and to do it you need to pass different props to carousel component. Ex.: in mobile our carousel component should receive <code class="css-159wm0q css-15o30dr">showItems={1}</code> and in desktop, should receive <code class="css-159wm0q css-15o30dr">showItems={3}</code></p><p class="paragraph css-1xxg5be css-15o30dr">You could (but shouldn’t) render the desktop and mobile version of the carousel component with different props and show/hide them with media queries. It’s an “expensive” way though. You’re rendering components in the DOM that won’t be used for that device/media query. Depending on the component it can affect the performance of your application in render time, size, etc.</p><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-jsx" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em"><span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable token maybe-class-name" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter token" style="color:#999">{</span><span class="token parameter"> items </span><span class="token parameter token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token token token" style="color:#999">&lt;</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token token token" style="color:#999">&lt;</span><span class="token token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">className</span><span class="token token token attr-equals" style="color:#999">=</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#07a">hide-mobile</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">      </span><span class="token token token" style="color:#999">&lt;</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">showItems</span><span class="token token script language-javascript token script-punctuation" style="color:#999">=</span><span class="token token script language-javascript token" style="color:#999">{</span><span class="token token script language-javascript token" style="color:#905">3</span><span class="token token script language-javascript token" style="color:#999">}</span><span class="token token" style="color:#999">&gt;</span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token token token" style="color:#999">&lt;/</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token token token" style="color:#999">&lt;</span><span class="token token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">className</span><span class="token token token attr-equals" style="color:#999">=</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#07a">hide-desktop</span><span class="token token token" style="color:#999">&quot;</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">      </span><span class="token token token" style="color:#999">&lt;</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">showItems</span><span class="token token script language-javascript token script-punctuation" style="color:#999">=</span><span class="token token script language-javascript token" style="color:#999">{</span><span class="token token script language-javascript token" style="color:#905">1</span><span class="token token script language-javascript token" style="color:#999">}</span><span class="token token" style="color:#999">&gt;</span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token token token" style="color:#999">&lt;/</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">  </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token" style="color:#905">div</span><span class="token token" style="color:#999">&gt;</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></div></code></pre></pre><h2 class="css-txxvu5 css-15o30dr" id="java-script-to-the-rescue"><a class="heading-anchor css-1g84dnl" href="#java-script-to-the-rescue">#</a>JavaScript to the rescue.</h2><p class="paragraph css-1xxg5be css-15o30dr">To avoid rendering components that won’t be used you can use JS to decide which component should be rendered, avoiding the unnecessary render. This way you move the “responsive logic” to JS and get the other benefits JS has to offer, such as better support for calculations and keep the “should this component render” logic in the component declaration.</p><p class="paragraph css-1xxg5be css-15o30dr">In a nutshell, you have more control and flexibility. You have great powers.</p><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-jsx" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em"><span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable token maybe-class-name" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter token" style="color:#999">{</span><span class="token parameter"> items </span><span class="token parameter token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#07a">const</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token property-access">innerWidth</span><span> </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#07a">const</span><span> showItems </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token token token" style="color:#999">&lt;</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">showItems</span><span class="token token script language-javascript token script-punctuation" style="color:#999">=</span><span class="token token script language-javascript token" style="color:#999">{</span><span class="token token script language-javascript" style="color:#905">showItems</span><span class="token token script language-javascript token" style="color:#999">}</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">      </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token token" style="color:#999">&gt;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></span></div></code></pre></pre><p class="paragraph css-1xxg5be css-15o30dr">You can easily have access to user’s width and height with <code class="css-159wm0q css-15o30dr">window.innerWidth</code> and <code class="css-159wm0q css-15o30dr">window.innerHeight</code>.
Also you might want (and you will want) to know if the user resize the page to recalculate <code class="css-159wm0q css-15o30dr">window.innerWidth</code> again.
Adding a resize listener to window may help you to deal with that:</p><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-jsx" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em"><span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#DD4A68">React</span><span class="token token" style="color:#999">.</span><span class="token" style="color:#DD4A68">Component</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  state </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    isMobile</span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token" style="color:#905">false</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token function-variable" style="color:#DD4A68">handleWindowResize</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">setState</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> isMobile</span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token property-access">innerWidth</span><span> </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#DD4A68">componentDidMount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">addEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">onWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#DD4A68">componentWillUnmount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">removeEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">onWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#DD4A68">render</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> items </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">props</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> isMobile </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">state</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">const</span><span> showItems </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span></div><div style="padding:0 1em"><span><span>      </span><span class="token token token" style="color:#999">&lt;</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">showItems</span><span class="token token script language-javascript token script-punctuation" style="color:#999">=</span><span class="token token script language-javascript token" style="color:#999">{</span><span class="token token script language-javascript" style="color:#905">showItems</span><span class="token token script language-javascript token" style="color:#999">}</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">        </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">      </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token token" style="color:#999">&gt;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">}</span></span></div></code></pre></pre><h2 class="css-txxvu5 css-15o30dr" id="nice-but-now-the-performance-will-haunt-you"><a class="heading-anchor css-1g84dnl" href="#nice-but-now-the-performance-will-haunt-you">#</a>Nice! But now the performance will haunt you.</h2><p class="paragraph css-1xxg5be css-15o30dr">Remember, with great power comes great responsibility.</p><p class="paragraph css-1xxg5be css-15o30dr">Dealing with window resize callback can be dangerous, especially when you mess with props and/or state, that <strong>updates</strong> your component. If you don’t treat the callback, it could provoke <strong>hundreds of unnecessary renders</strong> by a simple resize movement, and this is the most common mistake when someone try to do something like this.</p><img src="/_next/static/images/ops-3a546d8d3431ebb42c7fe59cd4d51ec0.gif"/><h2 class="css-txxvu5 css-15o30dr" id="performance-optimizations"><a class="heading-anchor css-1g84dnl" href="#performance-optimizations">#</a>Performance optimizations.</h2><p class="paragraph css-1xxg5be css-15o30dr">If you want to prevent your component from exploding, you’ll need to treat the callback with debounce or throttle.</p><style data-emotion-css="1188xl0">.css-1188xl0{margin:20px 0;padding:10px 20px;border-left:7px solid rgba(0,0,0,0.06);background:#F3F8FB;font-style:italic;font-family:PT Serif,serif;color:#888;border-radius:0 5px 5px 0;}.css-1188xl0 p{color:#888;}.css-1188xl0 .blockquote{padding:10px 15px;border-radius:1px;border-left:none;font-style:normal;background:#ffffff;}.css-1188xl0 .blockquote p{margin:0;padding:0;font-size:16px;}.css-1188xl0 .blockquote p:first-of-type{margin-top:0;}.css-1188xl0 .blockquote p:last-of-type{margin-bottom:0;}</style><blockquote class="blockquote css-1188xl0 css-15o30dr"><p class="paragraph css-1xxg5be css-15o30dr">“<strong>Debounce</strong> and <strong>throttle</strong> are two similar (but different!) techniques to control how many times we allow a function to be executed over time.
Having a debounced or throttled version of our function is especially useful when we are attaching the function to a DOM event. Why? Because we are giving ourselves a layer of control between the event and the execution of the function <!-- -->[…]<!-- -->”</p><blockquote class="blockquote css-1188xl0 css-15o30dr"><p class="paragraph css-1xxg5be css-15o30dr">Read more about debounce and throttle in this <style data-emotion-css="xanzd0">.css-xanzd0{-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 300ms ease;transition:all 300ms ease;color:#000000;}.css-xanzd0:visited{color:#000000;}.css-xanzd0:hover{color:lime;}</style><a href="https://css-tricks.com/debouncing-throttling-explained-examples/" class="css-xanzd0">great article</a> by css-tricks.</p></blockquote></blockquote><p class="paragraph css-1xxg5be css-15o30dr">In the example below I’ve treated <code class="css-159wm0q css-15o30dr">throttledHandleWindowResize</code> with throttle of 200ms. Now the callback won’t be called more than 5 times in one second (max of one execution for every 200ms/0.2seg).</p><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-jsx" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em"><span><span class="token module" style="color:#07a">import</span><span> throttle </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;lodash.throttle&quot;</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#DD4A68">React</span><span class="token token" style="color:#999">.</span><span class="token" style="color:#DD4A68">Component</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  state </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    isMobile</span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token" style="color:#905">false</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token function-variable" style="color:#DD4A68">throttledHandleWindowResize</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">throttle</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>      </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">setState</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> isMobile</span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token property-access">innerWidth</span><span> </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">200</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#DD4A68">componentDidMount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">addEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">throttledHandleWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#DD4A68">componentWillUnmount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token dom" style="color:#e90">window</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">removeEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">throttledHandleWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#DD4A68">render</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> items </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">props</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> isMobile </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">state</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">const</span><span> showItems </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span></div><div style="padding:0 1em"><span><span>      </span><span class="token token token" style="color:#999">&lt;</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">showItems</span><span class="token token script language-javascript token script-punctuation" style="color:#999">=</span><span class="token token script language-javascript token" style="color:#999">{</span><span class="token token script language-javascript" style="color:#905">showItems</span><span class="token token script language-javascript token" style="color:#999">}</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">        </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">      </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token token" style="color:#999">&gt;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>    </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">}</span></span></div></code></pre></pre><h2 class="css-txxvu5 css-15o30dr" id="introducing-react-sizes"><a class="heading-anchor css-1g84dnl" href="#introducing-react-sizes">#</a>Introducing React Sizes</h2><p class="paragraph css-1xxg5be css-15o30dr">Thinking in this approach, I’ve wrote <a href="http://github.com/renatorib/react-sizes" class="css-xanzd0">react-sizes</a>, a high-order component that handle all this work. You just need to pass the variables you want, based on the width and height of the window, and these variables will passed by props to your component:</p><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-jsx" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em"><span><span class="token module" style="color:#07a">import</span><span> </span><span class="token maybe-class-name">React</span><span> </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&#x27;react&#x27;</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token module" style="color:#07a">import</span><span> sizes </span><span class="token module" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&#x27;react-sizes&#x27;</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable token maybe-class-name" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter token" style="color:#999">{</span><span class="token parameter"> showItems</span><span class="token parameter token" style="color:#999">,</span><span class="token parameter"> items </span><span class="token parameter token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  </span><span class="token token token" style="color:#999">&lt;</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token token" style="color:#690">showItems</span><span class="token token script language-javascript token script-punctuation" style="color:#999">=</span><span class="token token script language-javascript token" style="color:#999">{</span><span class="token token script language-javascript" style="color:#905">showItems</span><span class="token token script language-javascript token" style="color:#999">}</span><span class="token token" style="color:#999">&gt;</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">    </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token plain-text">
</span></span></div><div style="padding:0 1em"><span><span class="token plain-text">  </span><span class="token token token" style="color:#999">&lt;/</span><span class="token token token" style="color:#DD4A68">SuperExpensiveCarousel</span><span class="token token" style="color:#999">&gt;</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">mapSizesToProps</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter token" style="color:#999">{</span><span class="token parameter"> width </span><span class="token parameter token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  showItems</span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token" style="color:#999">(</span><span>width </span><span class="token" style="color:#9a6e3a;background:none">&amp;&amp;</span><span> width </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#9a6e3a;background:none">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">,</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="padding:0 1em"><span>
</span></div><div style="padding:0 1em"><span><span></span><span class="token module" style="color:#07a">export</span><span> </span><span class="token" style="color:#DD4A68">sizes</span><span class="token" style="color:#999">(</span><span>mapSizesToProps</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">(</span><span class="token maybe-class-name">MyComponent</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></div></code></pre></pre><p class="paragraph css-1xxg5be css-15o30dr">As you can see, you just need to create a <code class="css-159wm0q css-15o30dr">mapSizesToProps</code> function that receives a object with <code class="css-159wm0q css-15o30dr">width</code> and <code class="css-159wm0q css-15o30dr">height</code>.</p><pre><pre style="color:black;background:#F3F8FB;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em 0;margin:.5em 0;overflow:auto;border-radius:4px"><code class="language-jsx" style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="padding:0 1em"><span><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">mapSizesToProps</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token parameter">sizes</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  width</span><span class="token" style="color:#9a6e3a;background:none">:</span><span> sizes</span><span class="token" style="color:#999">.</span><span class="token property-access">width</span><span class="token" style="color:#999">,</span><span>
</span></span></div><div style="padding:0 1em"><span><span>  height</span><span class="token" style="color:#9a6e3a;background:none">:</span><span> sizes</span><span class="token" style="color:#999">.</span><span class="token property-access">height</span><span>
</span></span></div><div style="padding:0 1em"><span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></div></code></pre></pre><p class="paragraph css-1xxg5be css-15o30dr">To know more about the <code class="css-159wm0q css-15o30dr">mapSizesToProps</code>, you can read the <a href="https://github.com/renatorib/react-sizes#guide" class="css-xanzd0">Guide</a>. Also you can see more usage examples at <a href="https://github.com/renatorib/react-sizes#usage" class="css-xanzd0">Usage</a> section.</p><h2 class="css-txxvu5 css-15o30dr" id="conclusion"><a class="heading-anchor css-1g84dnl" href="#conclusion">#</a>Conclusion</h2><p class="paragraph css-1xxg5be css-15o30dr">The best responsive solution is to always use media queries with a flexible layout, of course. But <em>sometimes</em> the ideal world conflicts with real world and <strong>you will</strong> need to do something in javascript.</p><p class="paragraph css-1xxg5be css-15o30dr">Now, when this happens, you know: <a href="https://github.com/renatorib/react-sizes" class="css-xanzd0">React Sizes will be your friend.</a></p></div></div><div class="css-12bljn2 css-15o30dr"><p class="paragraph css-1xxg5be css-15o30dr">Don’t forget to follow me on<!-- --> <a href="https://twitter.com/renatorib_" target="_blank" class="css-xanzd0">twitter</a> <!-- -->and<!-- --> <a href="https://github.com/renatorib" target="_blank" class="css-xanzd0">github</a>.</p></div><style data-emotion-css="1nqq7k3">.css-1nqq7k3{background:rgba(0,0,0,0.05);color:#888;padding:30px 0;margin-top:30px;font-size:20px;}</style><div class="css-1nqq7k3 css-15o30dr"><div class="css-12bljn2 css-15o30dr">© 2019-present Renato Ribeiro. All Rights Reserved.</div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"tackling-responsive-elements-in-react-and-why-ive-created-react-sizes"}},"page":"/blog/[slug]","query":{"slug":"tackling-responsive-elements-in-react-and-why-ive-created-react-sizes"},"buildId":"y-jw3CnJgOUqNgq8ta4L_","nextExport":true,"isFallback":false,"gip":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-83732ebf2ed7f8a1b2c7.js"></script><script src="/_next/static/chunks/main-d58aafdf60da4097bffb.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.9ec1f7868b3e9d138cdd.js" async=""></script><script src="/_next/static/chunks/05d954cf.9e3ba82d748380f7bd2c.js" async=""></script><script src="/_next/static/chunks/commons.88c5c447dfa569b3c1e1.js" async=""></script><script src="/_next/static/chunks/c4b7dd1ea37cbe53e921af5fa95eb74e6ed8adf6.c30464c9eb4052cc112c.js" async=""></script><script src="/_next/static/chunks/11cd88066fea60e4e9b66126e194a6cda56fa586.f24b4e8999210d024a49.js" async=""></script><script src="/_next/static/chunks/pages/_app-0bebf4d46d6a957660d0.js" async=""></script><script src="/_next/static/chunks/bfa37fcd0818edd0d3354ea585e5d4d4b3e87fa4.b679ac052656384d9275.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-dcfdb5da7801cd24a62f.js" async=""></script><script src="/_next/static/y-jw3CnJgOUqNgq8ta4L_/_buildManifest.js" async=""></script><script src="/_next/static/y-jw3CnJgOUqNgq8ta4L_/_ssgManifest.js" async=""></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-68492464-1"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-68492464-1');
          </script></body></html>