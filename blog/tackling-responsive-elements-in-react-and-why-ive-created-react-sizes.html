<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, user-scalable=no"/><link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700|PT+Serif:400,400i,700" rel="stylesheet"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css"/><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" class="next-head"/><meta charSet="utf-8" class="next-head"/><meta property="og:title" content="@renatorib" class="next-head"/><meta property="og:description" content="Renato Ribeiro; Software Engineer." class="next-head"/><meta name="twitter:description" content="Renato Ribeiro; Software Engineer." class="next-head"/><link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAAB7UlEQVRYw+3XXZWzMBCA4XoYBaAgDnAwDlDQKKiDOEDBooAqiAMUEAVZBe93QfkJgS1nOXvOd9FctTnhoZPJDOUGXgv53dAWbji5MBy3Vi4Nf9NrgN6uXS/lVUA+wAf4C8AYVdW8vo/mZ6AJIYQQmUbs7FhsIYQQ5mmGVveBx2rRtLYWkeY7nzf7IaiLQF9XptIX50REtAF4amW0bgJArA72wAP+9fkeAcafO1si4gCieQ9IFYEhA+TOetUPwHgvzQDxAOUJwAA0OVAD2BOARKDLgQV+BwSgzwEB+DoL+CtA3AeqjXcIVAebaAHqE0ALUOVAdzKNZk5CCugmCUdAMQDBZIAZgFC8BXQAvivZAo+4uPtAcM41XxHAm1XevHOu6SLAs5AfgHl4TRI/j06PW5oHemut7fOT87TW2jhX+Js9uAOYBHBTgQ7lCWA5hClQblN4CDiARwaMh0tPAGVcN64FMORB7J+DB1Mtp+egAWhPABJW4a6AMgLcTwDK1a7sl3DXQBnOdmUT2e2JytmG8mDKZXpFQ5rL45bW8WopKTAGsTwgZ6CwAxDqYrNS7aa2xuB6kwL1Uop+anhV+sSejfv4vS3XQLteOd+rT4Q5DBNW+/D5l/YB/hOgvApcfvH014D2+ss3tL+NolAP/wBzeeFjAcyjTAAAAABJRU5ErkJggg==" class="next-head"/><title>Tackling responsive elements in React and why I’ve created React Sizes.</title><meta name="date" content="Tue, 02 May 2017 03:00:00 GMT" class="next-head"/><meta property="og:title" content="Tackling responsive elements in React and why I’ve created React Sizes." class="next-head"/><meta property="og:image" content="/_next/static/images/cover-7fa40f3cdfb914aea2b0bbf38b8c2091.jpg" class="next-head"/><meta name="twitter:card" content="summary_large_image" class="next-head"/><meta name="twitter:site" content="@renatorib_" class="next-head"/><meta name="twitter:creator" content="@renatorib_" class="next-head"/><meta name="twitter:title" content="Tackling responsive elements in React and why I’ve created React Sizes." class="next-head"/><meta name="twitter:image" content="/_next/static/images/cover-7fa40f3cdfb914aea2b0bbf38b8c2091.jpg" class="next-head"/><link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAAB7UlEQVRYw+3XXZWzMBCA4XoYBaAgDnAwDlDQKKiDOEDBooAqiAMUEAVZBe93QfkJgS1nOXvOd9FctTnhoZPJDOUGXgv53dAWbji5MBy3Vi4Nf9NrgN6uXS/lVUA+wAf4C8AYVdW8vo/mZ6AJIYQQmUbs7FhsIYQQ5mmGVveBx2rRtLYWkeY7nzf7IaiLQF9XptIX50REtAF4amW0bgJArA72wAP+9fkeAcafO1si4gCieQ9IFYEhA+TOetUPwHgvzQDxAOUJwAA0OVAD2BOARKDLgQV+BwSgzwEB+DoL+CtA3AeqjXcIVAebaAHqE0ALUOVAdzKNZk5CCugmCUdAMQDBZIAZgFC8BXQAvivZAo+4uPtAcM41XxHAm1XevHOu6SLAs5AfgHl4TRI/j06PW5oHemut7fOT87TW2jhX+Js9uAOYBHBTgQ7lCWA5hClQblN4CDiARwaMh0tPAGVcN64FMORB7J+DB1Mtp+egAWhPABJW4a6AMgLcTwDK1a7sl3DXQBnOdmUT2e2JytmG8mDKZXpFQ5rL45bW8WopKTAGsTwgZ6CwAxDqYrNS7aa2xuB6kwL1Uop+anhV+sSejfv4vS3XQLteOd+rT4Q5DBNW+/D5l/YB/hOgvApcfvH014D2+ss3tL+NolAP/wBzeeFjAcyjTAAAAABJRU5ErkJggg==" class="next-head"/><link rel="preload" href="/_next/static/i_8MxdrpHSDK5GtC9bUU3/pages/blog/[slug].js" as="script"/><link rel="preload" href="/_next/static/i_8MxdrpHSDK5GtC9bUU3/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-3df6523e264ff2ac6548.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.4627379e878c0b617d75.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-9154d6d0442506761312.js" as="script"/><style data-styled="kstQlb iROiYf gCXgQR MFBW hEBPNf jUeBrl cBHFwn dMzani cfqpea bMFxhN dhvdSX cGWWqY dbvdGE kXoofU jxZhiu kaJytF fpiabm dZPubb" data-styled-version="4.3.2">
/* sc-component-id: sc-bdVaJa */
.dZPubb{-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 300ms ease;transition:all 300ms ease;} .dZPubb,.dZPubb:visited{color:#000000;} .dZPubb:hover{color:lime;}
/* sc-component-id: sc-htpNat */
.kaJytF{position:absolute;left:-26px;-webkit-text-decoration:none;text-decoration:none;color:rgba(255,255,255,0.05);-webkit-transition:color 300ms ease;transition:color 300ms ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}
/* sc-component-id: sc-bxivhb */
.jxZhiu{position:relative;font-weight:100;color:#222;font-family:PT Sans,sans-serif;} .jxZhiu:hover .sc-htpNat{color:lime;}
/* sc-component-id: sc-ifAKCX */
.kXoofU{font-size:36px;}
/* sc-component-id: sc-dnqmqq */
.dMzani{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:99px;color:white;font-family:PT Sans,sans-serif;padding:2px;}
/* sc-component-id: sc-iwsKbI */
.cfqpea{max-width:100%;border-radius:999px;margin-right:10px;width:60px;height:60px;border:2px solid transparent;box-shadow:0 0 0 2px lime;}
/* sc-component-id: sc-gZMcBi */
.bMFxhN{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
/* sc-component-id: sc-gqjmRU */
.dhvdSX{-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 300ms ease;transition:all 300ms ease;font-weight:bold;} .dhvdSX,.dhvdSX:visited{color:#000000;} .dhvdSX:hover{color:lime;} .dhvdSX,.dhvdSX:visited{color:white;}
/* sc-component-id: sc-VigVT */
.kstQlb{background:#F8F8F8;color:white;}
/* sc-component-id: sc-jTzLTM */
.MFBW{position:relative;padding:0 15px;max-width:850px;margin:0 auto;}
/* sc-component-id: sc-fjdhpX */
.iROiYf{margin-bottom:100px;position:relative;width:100%;background:url(/_next/static/images/cover-7fa40f3cdfb914aea2b0bbf38b8c2091.jpg) center center;background-size:cover;} @media (max-width:768px){.iROiYf{margin-bottom:40px;}} .iROiYf:before{content:"";position:absolute;display:block;top:0;bottom:0;left:0;right:0;background:linear-gradient( to bottom, rgba(0,30,0,0.5) 0%, rgba(0,30,30,0.5) 100% );}
/* sc-component-id: sc-jzJRlG */
.gCXgQR{padding:20px 0;}
/* sc-component-id: sc-cSHVUG */
.jUeBrl{font-size:60px;font-weight:100;color:#222;font-family:PT Sans,sans-serif;padding:40px 0 100px 0;color:white;margin:0;} @media (max-width:768px){.jUeBrl{font-size:32px;}} @media (max-width:768px){.jUeBrl{padding:20px 0 40px 0;}}
/* sc-component-id: sc-kAzzGY */
.cBHFwn{padding-bottom:40px;}
/* sc-component-id: sc-chPdSV */
.hEBPNf{-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 300ms ease;transition:all 300ms ease;font-weight:bold;} .hEBPNf,.hEBPNf:visited{color:#000000;} .hEBPNf:hover{color:lime;} .hEBPNf,.hEBPNf:visited{color:rgba(255,255,255,0.3);}
/* sc-component-id: sc-kgoBCf */
.dbvdGE{font-size:0.8em;padding:5px 8px;border-radius:2px;background:#EFEFEF;font-family:Fira Code,Consolata,monospace;}
/* sc-component-id: sc-kGXeez */
.cGWWqY{font-size:21px;line-height:1.6em;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;font-weight:400;color:#666;font-family:PT Serif,serif;}
/* sc-component-id: sc-dxgOiQ */
.fpiabm{margin:20px 0;padding:10px 20px;border-left:7px solid rgba(0,0,0,0.06);background:#EFEFEF;font-style:italic;font-family:PT Serif,serif color:#888;border-radius:0 5px 5px 0;} .fpiabm .sc-kGXeez{color:#888;} .fpiabm .sc-kpOJdX{padding:10px 15px;border-radius:1px;border-left:none;font-style:normal;background:#F8F8F8;} .fpiabm .sc-kpOJdX .sc-kGXeez{margin:0;padding:0;font-size:16px;} .fpiabm .sc-kpOJdX .sc-kGXeez:first-of-type{margin-top:0;} .fpiabm .sc-kpOJdX .sc-kGXeez:last-of-type{margin-bottom:0;}
/* sc-component-id: sc-global-3294574902 */
*::selection{color:black;background:lime;} *,*:after,*:before{box-sizing:border-box;} body{color:#666;background:#F8F8F8;font-family:PT Serif,serif;min-height:100vh;padding:0;margin:0;}</style></head><body><div id="__next"><div class="sc-VigVT kstQlb"><div src="/_next/static/images/cover-7fa40f3cdfb914aea2b0bbf38b8c2091.jpg" class="sc-fjdhpX iROiYf"><div class="sc-jzJRlG gCXgQR"><div class="sc-jTzLTM MFBW"><a href="/blog" class="sc-bdVaJa sc-chPdSV hEBPNf">@renatorib/blog</a></div></div><div class="sc-jTzLTM MFBW"><h1 class="sc-bwzfXH sc-cSHVUG jUeBrl">Tackling responsive elements in React and why I’ve created React Sizes.</h1><div class="sc-kAzzGY cBHFwn"><div class="sc-dnqmqq dMzani"><img src="https://avatars2.githubusercontent.com/u/3277185?s=200" class="sc-iwsKbI cfqpea"/><div class="sc-gZMcBi bMFxhN"><div><a href="https://twitter.com/renatorib_" rel="noopener noreferrer" target="_blank" class="sc-bdVaJa sc-gqjmRU dhvdSX">Renato Ribeiro</a></div><div><time dateTime="Tue, 02 May 2017 03:00:00 GMT">May 2, 2017</time></div></div></div></div></div></div><div class="sc-jTzLTM MFBW"><div><p class="sc-kGXeez cGWWqY">In the “perfect world of responsiveness” you can do 90% of things only by adding percentage widths, using flexbox, adding media queries to change grid dimensions, etc. But in the real world, sometimes we need to use two or more completely different structures to adapt to devices.</p><p class="sc-kGXeez cGWWqY">As a Frontend Engineer I often have to use different elements based on the user’s viewport. By doing that over and over again I’ve found good and bad ways to make this swapping of elements.</p><p class="sc-kGXeez cGWWqY">In fact we can still do this with media queries. You can simply render all elements for all devices and swap those with media queries. Just set <code class="sc-kgoBCf dbvdGE">display: none;</code> in elements we want to hide on the target resolution. See example below:</p><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#07a">const</span><span> </span><span class="token,function-variable" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span><span><span>  </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">    </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">className</span><span class="token,token,token" style="color:#999">=</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#07a">hide-mobile</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">Desktop only</span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">    </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">className</span><span class="token,token,token" style="color:#999">=</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#07a">hide-desktop</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">Mobile only</span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">  </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span>
</span></span><span><span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></code></pre></pre><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><div style="opacity:0.5"><span><span class="token,token,class" style="color:#690">.hide-mobile</span><span class="token" style="color:#690"> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="opacity:1;background:rgba(0, 0, 0, 0.03)"><span><span>  </span><span class="token,token,rule" style="color:#07a">@media</span><span class="token" style="color:#07a"> </span><span class="token,token" style="color:#999">(</span><span class="token,token" style="color:#905">max-width</span><span class="token,token" style="color:#999">:</span><span class="token" style="color:#07a"> </span><span class="token,token" style="color:#905">480</span><span class="token" style="color:#07a">px</span><span class="token,token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="opacity:0.5"><span><span>    </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> none</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="opacity:0.5"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="opacity:0.5"><span><span></span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="opacity:0.5"><span><span></span><span class="token,token,class" style="color:#690">.hide-desktop</span><span class="token" style="color:#690"> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="opacity:1;background:rgba(0, 0, 0, 0.03)"><span><span>  </span><span class="token,token,rule" style="color:#07a">@media</span><span class="token" style="color:#07a"> not all and </span><span class="token,token" style="color:#999">(</span><span class="token,token" style="color:#905">max-width</span><span class="token,token" style="color:#999">:</span><span class="token" style="color:#07a"> </span><span class="token,token" style="color:#905">480</span><span class="token" style="color:#07a">px</span><span class="token,token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span></div><div style="opacity:0.5"><span><span>    </span><span class="token" style="color:#905">display</span><span class="token" style="color:#999">:</span><span> none</span><span class="token" style="color:#999">;</span><span>
</span></span></div><div style="opacity:0.5"><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span></div><div style="opacity:0.5"><span><span></span><span class="token" style="color:#999">}</span></span></div></code></pre></pre><p class="sc-kGXeez cGWWqY">It’s a good way and sometimes can work, <strong>but</strong>…</p><h2 class="sc-ifAKCX kXoofU sc-bxivhb jxZhiu" id="why-swapping-elements-with-css-might-be-a-bad-idea"><a href="#why-swapping-elements-with-css-might-be-a-bad-idea" class="sc-htpNat kaJytF">#</a>Why swapping elements with CSS might be a bad idea.</h2><p class="sc-kGXeez cGWWqY">Let’s assume you want to build a desktop and a mobile version of a website section, and to do it you need to pass different props to carousel component. Ex.: in mobile our carousel component should receive <code class="sc-kgoBCf dbvdGE">showItems={1}</code> and in desktop, should receive <code class="sc-kgoBCf dbvdGE">showItems={3}</code></p><p class="sc-kGXeez cGWWqY">You could (but shouldn’t) render the desktop and mobile version of the carousel component with different props and show/hide them with media queries. It’s an “expensive” way though. You’re rendering components in the DOM that won’t be used for that device/media query. Depending on the component it can affect the performance of your application in render time, size, etc.</p><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token,plain-text"><span class="token" style="color:#07a">const</span><span> </span><span class="token,function-variable" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> items </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span><span class="token,plain-text"><span>  </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span class="token,plain-text"><span class="token,plain-text">    </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">className</span><span class="token,token,token" style="color:#999">=</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#07a">hide-mobile</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span class="token,plain-text"><span class="token,plain-text">      </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">showItems</span><span class="token,token,script,language-javascript,token,script-punctuation" style="color:#999">=</span><span class="token,token,script,language-javascript,token" style="color:#999">{</span><span class="token,token,script,language-javascript,token" style="color:#905">3</span><span class="token,token,script,language-javascript,token" style="color:#999">}</span><span class="token,token" style="color:#999">&gt;</span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span class="token,plain-text"><span class="token,plain-text">    </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span class="token,plain-text">
</span><span class="token,plain-text"><span class="token,plain-text">    </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">div</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">className</span><span class="token,token,token" style="color:#999">=</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#07a">hide-desktop</span><span class="token,token,token" style="color:#999">&quot;</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span class="token,plain-text"><span class="token,plain-text">      </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">showItems</span><span class="token,token,script,language-javascript,token,script-punctuation" style="color:#999">=</span><span class="token,token,script,language-javascript,token" style="color:#999">{</span><span class="token,token,script,language-javascript,token" style="color:#905">1</span><span class="token,token,script,language-javascript,token" style="color:#999">}</span><span class="token,token" style="color:#999">&gt;</span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span class="token,plain-text"><span class="token,plain-text">    </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span class="token,plain-text"><span class="token,plain-text">  </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">div</span><span class="token,token" style="color:#999">&gt;</span><span>
</span></span><span class="token,plain-text"><span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></code></pre></pre><h2 class="sc-ifAKCX kXoofU sc-bxivhb jxZhiu" id="java-script-to-the-rescue"><a href="#java-script-to-the-rescue" class="sc-htpNat kaJytF">#</a>JavaScript to the rescue.</h2><p class="sc-kGXeez cGWWqY">To avoid rendering components that won’t be used you can use JS to decide which component should be rendered, avoiding the unnecessary render. This way you move the “responsive logic” to JS and get the other benefits JS has to offer, such as better support for calculations and keep the “should this component render” logic in the component declaration.</p><p class="sc-kGXeez cGWWqY">In a nutshell, you have more control and flexibility. You have great powers.</p><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#07a">const</span><span> </span><span class="token,function-variable" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> items </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>  </span><span class="token" style="color:#07a">const</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> window</span><span class="token" style="color:#999">.</span><span>innerWidth </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#07a">const</span><span> showItems </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span>  </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span><span><span>    </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">showItems</span><span class="token,token,script,language-javascript,token,script-punctuation" style="color:#999">=</span><span class="token,token,script,language-javascript,token" style="color:#999">{</span><span class="token,token,script,language-javascript" style="color:#905">showItems</span><span class="token,token,script,language-javascript,token" style="color:#999">}</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">      </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">    </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token,token" style="color:#999">&gt;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></span></code></pre></pre><p class="sc-kGXeez cGWWqY">You can easily have access to user’s width and height with <code class="sc-kgoBCf dbvdGE">window.innerWidth</code> and <code class="sc-kgoBCf dbvdGE">window.innerHeight</code>.
Also you might want (and you will want) to know if the user resize the page to recalculate <code class="sc-kgoBCf dbvdGE">window.innerWidth</code> again.
Adding a resize listener to window may help you to deal with that:</p><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#DD4A68">React</span><span class="token,token" style="color:#999">.</span><span class="token" style="color:#DD4A68">Component</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>  state </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    isMobile</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">false</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span>  </span><span class="token,function-variable" style="color:#DD4A68">handleWindowResize</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">setState</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> isMobile</span><span class="token" style="color:#999">:</span><span> window</span><span class="token" style="color:#999">.</span><span>innerWidth </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span>  </span><span class="token" style="color:#DD4A68">componentDidMount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    window</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">addEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>onWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span><span>
</span><span><span>  </span><span class="token" style="color:#DD4A68">componentWillUnmount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    window</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">removeEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>onWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span><span>
</span><span><span>  </span><span class="token" style="color:#DD4A68">render</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> items </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>props</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> isMobile </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>state</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">const</span><span> showItems </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span><span><span>      </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">showItems</span><span class="token,token,script,language-javascript,token,script-punctuation" style="color:#999">=</span><span class="token,token,script,language-javascript,token" style="color:#999">{</span><span class="token,token,script,language-javascript" style="color:#905">showItems</span><span class="token,token,script,language-javascript,token" style="color:#999">}</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">        </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">      </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token,token" style="color:#999">&gt;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span><span><span></span><span class="token" style="color:#999">}</span></span></code></pre></pre><h2 class="sc-ifAKCX kXoofU sc-bxivhb jxZhiu" id="nice-but-now-the-performance-will-haunt-you"><a href="#nice-but-now-the-performance-will-haunt-you" class="sc-htpNat kaJytF">#</a>Nice! But now the performance will haunt you.</h2><p class="sc-kGXeez cGWWqY">Remember, with great power comes great responsibility.</p><p class="sc-kGXeez cGWWqY">Dealing with window resize callback can be dangerous, especially when you mess with props and/or state, that <strong>updates</strong> your component. If you don’t treat the callback, it could provoke <strong>hundreds of unnecessary renders</strong> by a simple resize movement, and this is the most common mistake when someone try to do something like this.</p><img src="/_next/static/images/ops-3a546d8d3431ebb42c7fe59cd4d51ec0.gif"/><h2 class="sc-ifAKCX kXoofU sc-bxivhb jxZhiu" id="performance-optimizations"><a href="#performance-optimizations" class="sc-htpNat kaJytF">#</a>Performance optimizations.</h2><p class="sc-kGXeez cGWWqY">If you want to prevent your component from exploding, you’ll need to treat the callback with debounce or throttle.</p><blockquote class="sc-kpOJdX sc-dxgOiQ fpiabm"><p class="sc-kGXeez cGWWqY">“<strong>Debounce</strong> and <strong>throttle</strong> are two similar (but different!) techniques to control how many times we allow a function to be executed over time.
Having a debounced or throttled version of our function is especially useful when we are attaching the function to a DOM event. Why? Because we are giving ourselves a layer of control between the event and the execution of the function <!-- -->[…]<!-- -->”</p><blockquote class="sc-kpOJdX sc-dxgOiQ fpiabm"><p class="sc-kGXeez cGWWqY">Read more about debounce and throttle in this <a href="https://css-tricks.com/debouncing-throttling-explained-examples/" class="sc-bdVaJa dZPubb">great article</a> by css-tricks.</p></blockquote></blockquote><p class="sc-kGXeez cGWWqY">In the example below I’ve treated <code class="sc-kgoBCf dbvdGE">throttledHandleWindowResize</code> with throttle of 200ms. Now the callback won’t be called more than 5 times in one second (max of one execution for every 200ms/0.2seg).</p><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#07a">import</span><span> throttle </span><span class="token" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&quot;lodash.throttle&quot;</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#DD4A68">React</span><span class="token,token" style="color:#999">.</span><span class="token" style="color:#DD4A68">Component</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>  state </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    isMobile</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">false</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span>  </span><span class="token,function-variable" style="color:#DD4A68">throttledHandleWindowResize</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">throttle</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>      </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">setState</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> isMobile</span><span class="token" style="color:#999">:</span><span> window</span><span class="token" style="color:#999">.</span><span>innerWidth </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">200</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span>  </span><span class="token" style="color:#DD4A68">componentDidMount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    window</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">addEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>throttledHandleWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span><span>
</span><span><span>  </span><span class="token" style="color:#DD4A68">componentWillUnmount</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    window</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">removeEventListener</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;resize&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>throttledHandleWindowResize</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span><span>
</span><span><span>  </span><span class="token" style="color:#DD4A68">render</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> items </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>props</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#999">{</span><span> isMobile </span><span class="token" style="color:#999">}</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>state</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#07a">const</span><span> showItems </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> isMobile </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span><span><span>      </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">showItems</span><span class="token,token,script,language-javascript,token,script-punctuation" style="color:#999">=</span><span class="token,token,script,language-javascript,token" style="color:#999">{</span><span class="token,token,script,language-javascript" style="color:#905">showItems</span><span class="token,token,script,language-javascript,token" style="color:#999">}</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">        </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">      </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token,token" style="color:#999">&gt;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:#999">}</span><span>
</span></span><span><span></span><span class="token" style="color:#999">}</span></span></code></pre></pre><h2 class="sc-ifAKCX kXoofU sc-bxivhb jxZhiu" id="introducing-react-sizes"><a href="#introducing-react-sizes" class="sc-htpNat kaJytF">#</a>Introducing React Sizes</h2><p class="sc-kGXeez cGWWqY">Thinking in this approach, I’ve wrote <a href="http://github.com/renatorib/react-sizes" class="sc-bdVaJa dZPubb">react-sizes</a>, a high-order component that handle all this work. You just need to pass the variables you want, based on the width and height of the window, and these variables will passed by props to your component:</p><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#07a">import</span><span> React </span><span class="token" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&#x27;react&#x27;</span><span class="token" style="color:#999">;</span><span>
</span></span><span><span></span><span class="token" style="color:#07a">import</span><span> sizes </span><span class="token" style="color:#07a">from</span><span> </span><span class="token" style="color:#690">&#x27;react-sizes&#x27;</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:#07a">const</span><span> </span><span class="token,function-variable" style="color:#DD4A68">MyComponent</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> showItems</span><span class="token" style="color:#999">,</span><span> items </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span>
</span></span><span><span>  </span><span class="token,token,token" style="color:#999">&lt;</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token" style="color:#905"> </span><span class="token,token" style="color:#690">showItems</span><span class="token,token,script,language-javascript,token,script-punctuation" style="color:#999">=</span><span class="token,token,script,language-javascript,token" style="color:#999">{</span><span class="token,token,script,language-javascript" style="color:#905">showItems</span><span class="token,token,script,language-javascript,token" style="color:#999">}</span><span class="token,token" style="color:#999">&gt;</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">    </span><span class="token" style="color:#999">{</span><span>items</span><span class="token" style="color:#999">}</span><span class="token,plain-text">
</span></span><span><span class="token,plain-text">  </span><span class="token,token,token" style="color:#999">&lt;/</span><span class="token,token" style="color:#905">SuperExpensiveCarousel</span><span class="token,token" style="color:#999">&gt;</span><span>
</span></span><span><span></span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:#07a">const</span><span> </span><span class="token,function-variable" style="color:#DD4A68">mapSizesToProps</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span> width </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>  showItems</span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#999">(</span><span>width </span><span class="token" style="color:#9a6e3a;background:none">&amp;&amp;</span><span> width </span><span class="token" style="color:#9a6e3a;background:none">&lt;</span><span> </span><span class="token" style="color:#905">480</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:none">?</span><span> </span><span class="token" style="color:#905">1</span><span> </span><span class="token" style="color:#999">:</span><span> </span><span class="token" style="color:#905">3</span><span class="token" style="color:#999">,</span><span>
</span></span><span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:#07a">export</span><span> </span><span class="token" style="color:#DD4A68">sizes</span><span class="token" style="color:#999">(</span><span>mapSizesToProps</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">(</span><span>MyComponent</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></code></pre></pre><p class="sc-kGXeez cGWWqY">As you can see, you just need to create a <code class="sc-kgoBCf dbvdGE">mapSizesToProps</code> function that receives a object with <code class="sc-kgoBCf dbvdGE">width</code> and <code class="sc-kgoBCf dbvdGE">height</code>.</p><pre><pre style="color:black;background:#EFEFEF;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:4px"><code style="color:black;background:none;text-shadow:none;font-family:Fira Code, Consolata, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#07a">const</span><span> </span><span class="token,function-variable" style="color:#DD4A68">mapSizesToProps</span><span> </span><span class="token" style="color:#9a6e3a;background:none">=</span><span> sizes </span><span class="token" style="color:#9a6e3a;background:none">=&gt;</span><span> </span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">{</span><span>
</span></span><span><span>  width</span><span class="token" style="color:#999">:</span><span> sizes</span><span class="token" style="color:#999">.</span><span>width</span><span class="token" style="color:#999">,</span><span>
</span></span><span><span>  height</span><span class="token" style="color:#999">:</span><span> sizes</span><span class="token" style="color:#999">.</span><span>height
</span></span><span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></span></code></pre></pre><p class="sc-kGXeez cGWWqY">To know more about the <code class="sc-kgoBCf dbvdGE">mapSizesToProps</code>, you can read the <a href="https://github.com/renatorib/react-sizes#guide" class="sc-bdVaJa dZPubb">Guide</a>. Also you can see more usage examples at <a href="https://github.com/renatorib/react-sizes#usage" class="sc-bdVaJa dZPubb">Usage</a> section.</p><h2 class="sc-ifAKCX kXoofU sc-bxivhb jxZhiu" id="conclusion"><a href="#conclusion" class="sc-htpNat kaJytF">#</a>Conclusion</h2><p class="sc-kGXeez cGWWqY">The best responsive solution is to always use media queries with a flexible layout, of course. But <em>sometimes</em> the ideal world conflicts with real world and <strong>you will</strong> need to do something in javascript.</p><p class="sc-kGXeez cGWWqY">Now, when this happens, you know: <a href="https://github.com/renatorib/react-sizes" class="sc-bdVaJa dZPubb">React Sizes will be your friend.</a></p><p class="sc-kGXeez cGWWqY">Don’t forget to follow me on <a href="http://twitter.com/renatorib_" class="sc-bdVaJa dZPubb">twitter</a> and <a href="http://github.com/renatorib" class="sc-bdVaJa dZPubb">github</a>.</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"slug":"tackling-responsive-elements-in-react-and-why-ive-created-react-sizes"}},"page":"/blog/[slug]","query":{"slug":"tackling-responsive-elements-in-react-and-why-ive-created-react-sizes"},"buildId":"i_8MxdrpHSDK5GtC9bUU3","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/blog/[slug]" src="/_next/static/i_8MxdrpHSDK5GtC9bUU3/pages/blog/[slug].js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/i_8MxdrpHSDK5GtC9bUU3/pages/_app.js"></script><script src="/_next/static/runtime/webpack-3df6523e264ff2ac6548.js" async=""></script><script src="/_next/static/chunks/commons.4627379e878c0b617d75.js" async=""></script><script src="/_next/static/runtime/main-9154d6d0442506761312.js" async=""></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-68492464-1"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-68492464-1');
          </script></body></html>